<div>
  <div class="title-pages">
    <h1>Profile</h1>
  </div>
  <div class="profile-container">
    <div class="profile-pic" >
      <%= cl_image_tag(@user.photo.key, :height=>180, :width=>180, :gravity=>"auto", :crop=>"fill", style: 'margin-top: 25px') if @user.photo.attached? %>
    </div>
    <br>
    <p><strong>Username:</strong><%= @user.username %></p>

    <p><strong>Email:</strong> <%= @user.email %></p>

    <h2>Badges</h2>
    <div>
      <ul class="badge-display">
        <% @user.badges.each do |badge| %>
          <% if badge.photo.attached? %>
            <%= cl_image_tag badge.photo.key, class:"badge-photo" %>
          <p><%= badge.name %></p>
          <% end %>
        <% end %>
      </ul>
    </div>

    <h2>Collections</h2>
    <div class="cards">
      <% @user.collections.each do |collection| %>
        <% if collection.catches.empty? %>
          <div class="card card-img" style="background-image : linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://animalaxy.fr/wp-content/uploads/2018/12/iStock-521375128.jpg');  width: 100%;" alt="Panda roux">
            <div class="card-name">
              <%= link_to collection.name, user_collection_path(@user, collection) %>
            </div>
          </div>
        <% else %>
          <div class="card card-img" style="background-image : linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('<%= collection.catches[0].animal.photo_url %>');  width: 100%;" alt="<%= collection.catches[0].animal.name %>">
            <div class="card-name">
              <%= link_to collection.name, user_collection_path(@user, collection) %>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>

  </div>
</div>
